{% extends "base.html" %}
{% block title %}Login{% endblock %}
{% block content %}
<body>
	{% include 'navbar.html' %}
	{% include 'popups.html' %}
	<div class="max-w-md mx-auto p-6 mt-10 bg-white rounded-lg shadow-2xl">
		<h1 class="text-2xl font-bold mb-4">Faça login</h1>
		{% with messages = get_flashed_messages(with_categories=true) %}
			{% if messages %}
				{% for category, message in messages %}
					<div class="p-2 mb-4 text-white {{ 'bg-green-500' if category == 'success' else 'bg-red-500' }} rounded">
						{{ message }}
					</div>
				{% endfor %}
			{% endif %}
		{% endwith %}
		<form method="POST" action="{{ url_for('authentication.login') }}">
			{{ form.hidden_tag() }}
			<div class="mb-4">
				{% if form.login.errors %}
					<ul class="error-message">
						{% for error in form.login.errors %}
							<li class="text-red-500">{{ error }}</li>
						{% endfor %}
					</ul>
				{% endif %}
				<label for="login" class="block text-gray-700">E-mail ou usuário</label>
				<input type="text" id="nameinput" maxlength="15" name="login" class="border p-2 w-full rounded" required>
				<div class="flex justify-end">
					<p id="nameinputCounter" class="text-gray-500 text-sm mt-1 hidden">0 / 15</p>
				</div>
			</div>
			<div class="mb-4">
				{% if form.password.errors %}
					<ul class="error-message">
						{% for error in form.password.errors %}
							<li class="text-red-500">{{ error }}</li>
						{% endfor %}
					</ul>
				{% endif %}
				<label for="passaword" class="block text-gray-700">Senha</label>
				<div class="relative">
					<input id="passwordInput" minlength="8" maxlength="30" type="password" name="password" class="border p-2 w-full rounded" required>
					<span class="view-password-button absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer">
						<i class="fas fa-eye text-gray-500" id="__eyeIcon"></i>
					</span>
				</div>
				<div class="flex justify-end">
					<p id="passwordInputCounter" class="text-gray-500 text-sm mt-1 hidden">0 / 30</p>
				</div>
			</div>
			<button title="Botão para entrar na conta" type="submit" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Entrar</button>
		</form>
		<p class="mt-4">Não tem uma conta? <a href="{{ url_for('authentication.register') }}" class="text-blue-600 hover:underline">Registre-se.</a></p>
	</div>
</body>
{% endblock %}